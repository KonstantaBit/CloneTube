{% extends "base.html" %}

{% block content %}
<div class="card flw" style="margin-bottom:10px;">
    <img class="rounded" src="{{ url_for('static', filename=user.hat_photo)}}" width="100%" height="20%"
         style="margin-bottom:10px;">
    <div class="row">
        <div class="col-sm-auto">
            <input type="image" class="rounded" src="{{ url_for('static', filename=user.profile_photo)}}" width="150"
                   height="150">
        </div>
        <div class="col-sm-auto">
            <h2><strong>{{user.username}}</strong></h2>
            <p><strong>О канале : </strong>{{user.description}}</p>
            {% if current_user.is_authenticated and current_user.id == user.id %}
            <div class="btn-group">
                <a class="btn btn-primary" href="/addvideo">Загрузить видео</a>
                <form method="post" action="">
                    <button class="btn btn-info">Сохранить изменения</button>
                </form>
            </div>
            {% endif %}
        </div>
    </div>
</div>
<div class="card flw">
    <h3>Все видео :</h3>
    <div class="album py-5">
        <div class="container">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
                {% for video in videos %}
                <div class="col">
                    <div class="card">
                        <a href="/watch/{{video.id}}"><img
                                src="{{ url_for('static', filename=video.preview)}}" width="100%"
                                height="200"></a>
                        <div class="card-body">
                            <p class="card-text">{{video.title}}</p>
                            {% if current_user.is_stuff == 1 or current_user.id == user.id %}
                            <div class="btn-group">
                                <a class="btn-sm btn-danger" href="/delete_video/{{video.id}}"
                                   style="text-decoration:none;">Удалить</a>
                                <a class="btn-sm btn-warning" href="/edit_video/{{video.id}}"
                                   style="text-decoration:none;"> Редактировать</a>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

{% endblock %}